{"version":3,"sources":["login/scripts/login_model_view.min.js"],"names":["LoginModelView","Backbone","View","extend","cotLogin","doLogin","_","result","this","showLogin","$originatingElement","$el","find","then","history","stop","start","doLogout","logout","events","click .btn-login","click .btn-logout","initialize","arguments","length","undefined","listenTo","model","render","html","template","Promise","resolve","tagName"],"mappings":"AAAA,aAKA,IAAIA,eAAiBC,SAASC,KAAKC,OAAO,CACxCC,SAAU,KAEVC,QAAS,WACPC,EAAEC,OAAOC,KAAM,YAAYC,UAAU,CAAEC,oBAAqBF,KAAKG,IAAIC,KAAK,YAAaC,KAAK,WAC1FZ,SAASa,QAAQC,OACjBd,SAASa,QAAQE,WAIrBC,SAAU,WACRX,EAAEC,OAAOC,KAAM,YAAYU,UAG7BC,OAAQ,CACNC,mBAAoB,UACpBC,oBAAqB,YAGvBC,WAAY,WACuB,EAAnBC,UAAUC,aAA+BC,IAAjBF,UAAU,IAAmBA,UAAU,GAE7Ef,KAAKkB,SAASlB,KAAKmB,MAAO,SAAUnB,KAAKoB,SAG3CA,OAAQ,WAEN,OADApB,KAAKG,IAAIkB,KAAKrB,KAAKsB,SAAS,CAAEH,MAAOnB,KAAKmB,SACnCI,QAAQC,WAGjBC,QAAS,OAETH,SAAUxB,EAAEwB,SAAS","file":"login_model_view.min.js","sourcesContent":["'use strict';\n\n/* global _ Backbone */\n\n/* exported LoginModelView */\nvar LoginModelView = Backbone.View.extend({\n  cotLogin: null,\n\n  doLogin: function doLogin() {\n    _.result(this, 'cotLogin').showLogin({ $originatingElement: this.$el.find('button') }).then(function () {\n      Backbone.history.stop();\n      Backbone.history.start();\n    });\n  },\n\n  doLogout: function doLogout() {\n    _.result(this, 'cotLogin').logout();\n  },\n\n  events: {\n    'click .btn-login': 'doLogin',\n    'click .btn-logout': 'doLogout'\n  },\n\n  initialize: function initialize() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    this.listenTo(this.model, 'change', this.render);\n  },\n\n  render: function render() {\n    this.$el.html(this.template({ model: this.model }));\n    return Promise.resolve();\n  },\n\n  tagName: 'form',\n\n  template: _.template('\\n    <span class=\"visible-print-inline\">Logged in as</span>\\n    <%= model.lastName ? model.lastName : \\'\\' %><%= model.lastName && model.firstName  ? \\',\\' : \\'\\' %>\\n    <%= model.firstName ? model.firstName : \\'\\' %>\\n    <% if (model.sid) { %>\\n    <button type=\"button\" class=\"btn btn-default btn-logout\">Logout</button>\\n    <% } else { %>\\n    <button type=\"button\" class=\"btn btn-primary btn-login\">Login</button>\\n    <% } %>\\n  ')\n});"]}