"use strict";var ODataFormView=Backbone.View.extend({doCancel:function(t){if(!confirm("Any changes made will not be saved. Do you want to continue?"))return t.preventDefault(),!1},doSave:function(t){t.preventDefault(),this.$el.find("form").submit()},events:{"click .btn-cancel":"doCancel","click .btn-save":"doSave"},sections:[{rows:[{fields:[{bindto:"id",id:"id",required:!0,title:"ID",type:"text"}]}]}],render:function(){var e=this,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};console.log("ODATA FORM VIEW RENDER"),this.$el.html(this.template({model:this.model.toJSON()}));var t=new CotForm({id:"form_"+this.model.cid,rootPath:_.result(this,"rootPath"),success:function(t){return t.preventDefault(),e.model.save().then(n.success||function(){return alert("Saved!")}),!1},useBinding:!0,sections:_.result(this,"sections")});return t.setModel(this.model),t.render({target:this.$el.find(".cot-form")}),Promise.resolve()},rootPath:"/* @echo SRC_PATH *//",template:_.template('\n    <div class="hidden-print">\n      <a href="#" class="btn btn-default btn-cancel">Cancel</a>\n      <button type="button" class="btn btn-default btn-save">Save</button>\n    </div>\n\n    <div class="cot-form"></div>\n\n    <div class="hidden-print">\n      <a href="#" class="btn btn-default btn-cancel">Cancel</a>\n      <button type="button" class="btn btn-default btn-save">Save</button>\n    </div>\n  ')});
//# sourceMappingURL=odata_form_view.min.js.map
