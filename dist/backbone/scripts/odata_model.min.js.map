{"version":3,"sources":["backbone/scripts/odata_model.min.js"],"names":["ODataModel","Backbone","Model","extend","url","base","_","result","this","collection","Error","isNew","replace","encodeURIComponent","get","idAttribute","toJSON","options","arguments","length","undefined","json","prototype","call","includeMetaData"],"mappings":"AAAA,aAGA,IAAIA,WAAaC,SAASC,MAAMC,OAAO,CAIrCC,IAAK,WACH,IAAIC,EAAOC,EAAEC,OAAOC,KAAM,YAAcF,EAAEC,OAAOC,KAAKC,WAAY,QAAU,WAC1E,MAAM,IAAIC,MAAM,kDAD0D,GAI5E,OAAIF,KAAKG,QACAN,EAGFA,EAAKO,QAAQ,MAAO,IAAM,KAAQC,mBAAmBL,KAAKM,IAAIN,KAAKO,cAAgB,MAK5FC,OAAQ,WACN,IAAIC,EAA6B,EAAnBC,UAAUC,aAA+BC,IAAjBF,UAAU,GAAmBA,UAAU,GAAK,GAE9EG,EAAOpB,SAASC,MAAMoB,UAAUN,OAAOO,KAAKf,KAAMS,GAQtD,OANKA,EAAQO,yBACJH,EAAkB,mBAClBA,EAAmB,oBACnBA,EAAc,SAGhBA","file":"odata_model.min.js","sourcesContent":["'use strict';\n\n/* exported ODataModel */\nvar ODataModel = Backbone.Model.extend({\n\n  // PROPERTY DEFINITION\n\n  url: function url() {\n    var base = _.result(this, 'urlRoot') || _.result(this.collection, 'url') || function () {\n      throw new Error('A \"url\" property or function must be specified');\n    }();\n\n    if (this.isNew()) {\n      return base;\n    }\n\n    return base.replace(/\\/$/, '') + '(\\'' + encodeURIComponent(this.get(this.idAttribute)) + '\\')';\n  },\n\n  // MODEL DEFINITION\n\n  toJSON: function toJSON() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var json = Backbone.Model.prototype.toJSON.call(this, options);\n\n    if (!options.includeMetaData) {\n      delete json['__CreatedOn'];\n      delete json['__ModifiedOn'];\n      delete json['__Owner'];\n    }\n\n    return json;\n  }\n});"]}